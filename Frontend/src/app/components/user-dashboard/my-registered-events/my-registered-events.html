<app-header
  [userName]="displayUserName"
  [title]="'My Registered Events'"
  [buttons]="headerButtons"
  (buttonClick)="handleHeaderAction($event)"
>
</app-header>

<main class="main-content">
        <div class="container">
            <section class="events-section registered-section">
                <div class="section-header">
                    <h2 class="section-title">
                        <span class="title-icon">üé´</span>
                        My Registered Events
                        <div class="title-underline registered-underline"></div>
                    </h2>
                </div>

                <!-- Empty State (uncomment to test) -->
                <!--
                <div class="empty-state">
                    <div class="empty-icon">üé≠</div>
                    <p class="empty-message">You haven't registered for any events yet.</p>
                    <p class="empty-submessage">Browse available events to get started!</p>
                    <button class="browse-events-btn">
                        <span class="btn-icon">üéâ</span>
                        <span class="btn-text">Browse Available Events</span>
                    </button>
                </div>
                -->

                <!-- Events Grid -->
                <div class="events-grid">
                    <!-- Sample Event Card 1 -->
                    <div class="event-card registered-event-card">
                        <div class="card-gradient-bg registered-bg"></div>
                        <div class="card-content">
                            <div class="card-header">
                                <h3 class="event-title">Tech Conference 2025</h3>
                                <div class="registered-badge">
                                    <span class="badge-icon">‚úì</span>
                                    <span class="badge-text">Registered</span>
                                </div>
                            </div>

                            <div class="event-category">Technology</div>

                            <p class="event-description">Join us for an exciting tech conference featuring the latest innovations in AI, blockchain, and web development.</p>

                            <div class="event-details">
                                <div class="detail-item">
                                    <span class="detail-icon">üìÖ</span>
                                    <span class="detail-label">Date:</span>
                                    <span class="detail-value">Mar 15, 2025</span>
                                </div>
                                <div class="detail-item">
                                    <span class="detail-icon">‚è∞</span>
                                    <span class="detail-label">Time:</span>
                                    <span class="detail-value">09:00 AM - 05:00 PM</span>
                                </div>
                                <div class="detail-item">
                                    <span class="detail-icon">üìç</span>
                                    <span class="detail-label">Location:</span>
                                    <span class="detail-value">Convention Center, Mumbai</span>
                                </div>
                                <div class="detail-item price-item">
                                    <span class="detail-icon">üí∞</span>
                                    <span class="detail-label">Price:</span>
                                    <span class="price-value">‚Çπ2500</span>
                                </div>
                            </div>

                            <div class="card-actions">
                                <button class="download-ticket-btn">
                                    <span class="btn-icon">üì•</span>
                                    <span class="btn-text">Download Ticket</span>
                                </button>
                                <button class="deregister-button">
                                    <span class="btn-text">Cancel Registration</span>
                                </button>
                            </div>
                        </div>
                        <div class="card-shine"></div>
                    </div>

                    <!-- Sample Event Card 2 -->
                    <div class="event-card registered-event-card">
                        <div class="card-gradient-bg registered-bg"></div>
                        <div class="card-content">
                            <div class="card-header">
                                <h3 class="event-title">Music Festival 2025</h3>
                                <div class="registered-badge">
                                    <span class="badge-icon">‚úì</span>
                                    <span class="badge-text">Registered</span>
                                </div>
                            </div>

                            <div class="event-category">Music</div>

                            <p class="event-description">Experience an incredible lineup of artists performing across multiple stages in this amazing music festival.</p>

                            <div class="event-details">
                                <div class="detail-item">
                                    <span class="detail-icon">üìÖ</span>
                                    <span class="detail-label">Date:</span>
                                    <span class="detail-value">Apr 20, 2025</span>
                                </div>
                                <div class="detail-item">
                                    <span class="detail-icon">‚è∞</span>
                                    <span class="detail-label">Time:</span>
                                    <span class="detail-value">06:00 PM - 12:00 AM</span>
                                </div>
                                <div class="detail-item">
                                    <span class="detail-icon">üìç</span>
                                    <span class="detail-label">Location:</span>
                                    <span class="detail-value">Mahalaxmi Racecourse, Mumbai</span>
                                </div>
                                <div class="detail-item price-item">
                                    <span class="detail-icon">üí∞</span>
                                    <span class="detail-label">Price:</span>
                                    <span class="price-value">‚Çπ1800</span>
                                </div>
                            </div>

                            <div class="card-actions">
                                <button class="download-ticket-btn">
                                    <span class="btn-icon">üì•</span>
                                    <span class="btn-text">Download Ticket</span>
                                </button>
                                <button class="deregister-button">
                                    <span class="btn-text">Cancel Registration</span>
                                </button>
                            </div>
                        </div>
                        <div class="card-shine"></div>
                    </div>

                    <!-- Sample Event Card 3 -->
                    <div class="event-card registered-event-card">
                        <div class="card-gradient-bg registered-bg"></div>
                        <div class="card-content">
                            <div class="card-header">
                                <h3 class="event-title">Art Workshop</h3>
                                <div class="registered-badge">
                                    <span class="badge-icon">‚úì</span>
                                    <span class="badge-text">Registered</span>
                                </div>
                            </div>

                            <div class="event-category">Art & Culture</div>

                            <p class="event-description">Learn painting techniques from professional artists in this hands-on workshop suitable for all skill levels.</p>

                            <div class="event-details">
                                <div class="detail-item">
                                    <span class="detail-icon">üìÖ</span>
                                    <span class="detail-label">Date:</span>
                                    <span class="detail-value">May 5, 2025</span>
                                </div>
                                <div class="detail-item">
                                    <span class="detail-icon">‚è∞</span>
                                    <span class="detail-label">Time:</span>
                                    <span class="detail-value">10:00 AM - 04:00 PM</span>
                                </div>
                                <div class="detail-item">
                                    <span class="detail-icon">üìç</span>
                                    <span class="detail-label">Location:</span>
                                    <span class="detail-value">Art Studio, Bandra</span>
                                </div>
                                <div class="detail-item price-item">
                                    <span class="detail-icon">üí∞</span>
                                    <span class="detail-label">Price:</span>
                                    <span class="price-value">‚Çπ800</span>
                                </div>
                            </div>

                            <div class="card-actions">
                                <button class="download-ticket-btn">
                                    <span class="btn-icon">üì•</span>
                                    <span class="btn-text">Download Ticket</span>
                                </button>
                                <button class="deregister-button">
                                    <span class="btn-text">Cancel Registration</span>
                                </button>
                            </div>
                        </div>
                        <div class="card-shine"></div>
                    </div>
                </div>
            </section>
        </div>
    </main>

<app-footer
  brandName="Happenin'"
  contactEmail="happenin.events.app@gmail.com"
  [showSocials]="false"
>
</app-footer>

<app-custom-alert
  [alertData]="customAlert"
  [autoCloseDuration]="2000"
  (alertClosed)="closeAlert()"
  (alertConfirmed)="handleAlertConfirm()"
  (alertCancelled)="handleAlertCancel()"
>
</app-custom-alert>

<div
  class="custom-alert-overlay"
  *ngIf="customAlert.show"
  (click)="closeAlert()"
>
  <div
    class="custom-alert-modal"
    (click)="$event.stopPropagation()"
    [class.alert-success]="customAlert.type === 'success'"
    [class.alert-error]="customAlert.type === 'error'"
    [class.alert-warning]="customAlert.type === 'warning'"
    [class.alert-info]="customAlert.type === 'info'"
    [class.alert-confirm]="customAlert.type === 'confirm'"
  >
    <!-- Alert Header -->
    <div class="custom-alert-header">
      <div class="alert-icon-container">
        <div class="alert-icon">
          <span *ngIf="customAlert.type === 'success'">‚úÖ</span>
          <span *ngIf="customAlert.type === 'error'">‚ùå</span>
          <span *ngIf="customAlert.type === 'warning'">‚ö†Ô∏è</span>
          <span *ngIf="customAlert.type === 'info'">‚ÑπÔ∏è</span>
          <span *ngIf="customAlert.type === 'confirm'">‚ùì</span>
        </div>
      </div>
      <div class="alert-title-container">
        <h3 class="alert-title">{{ customAlert.title }}</h3>
        <button class="alert-close-btn" (click)="closeAlert()">
          <span>‚úï</span>
        </button>
      </div>
    </div>

    <!-- Alert Content -->
    <div class="custom-alert-content">
      <p class="alert-message">{{ customAlert.message }}</p>
    </div>

    <!-- Alert Actions -->
    <div class="custom-alert-actions">
      <!-- Show OK button only if autoClose is false -->
      <button
        *ngIf="customAlert.type !== 'confirm' && !customAlert.autoClose"
        class="alert-btn alert-ok-btn"
        (click)="closeAlert()"
      >
        <span class="btn-text">OK</span>
        <div class="btn-ripple"></div>
      </button>

      <div *ngIf="customAlert.type === 'confirm'" class="confirmation-buttons">
        <button
          class="alert-btn alert-cancel-btn"
          (click)="handleAlertCancel()"
        >
          <span class="btn-text">Cancel</span>
          <div class="btn-ripple"></div>
        </button>
        <button
          class="alert-btn alert-confirm-btn"
          (click)="handleAlertConfirm()"
        >
          <span class="btn-text">Confirm</span>
          <div class="btn-ripple"></div>
        </button>
      </div>
    </div>

    <!-- Animated border -->
    <div class="alert-border-animation"></div>
  </div>
</div>
